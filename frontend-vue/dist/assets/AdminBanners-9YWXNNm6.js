import{_ as e,r as l,i as t,o as a,c as s,a as r,b as o,d as i,F as n,e as d,t as c,h as u,w as v,v as b,f as x,j as p,g,u as m,n as y}from"./index-BgbrXe1X.js";import{I as f}from"./ImageUpload-B05SUEID.js";const h={class:"space-y-6"},k={class:"flex justify-between items-center"},w={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},C={class:"bg-white rounded-lg shadow overflow-hidden"},j={class:"p-4 space-y-3"},E={class:"flex items-center justify-between"},B={class:"flex items-center space-x-3"},N=["src","alt"],I={class:"font-medium"},V={class:"text-sm text-gray-600"},U={class:"flex items-center space-x-2"},P=["onClick"],S=["onClick"],A={key:0,class:"text-center text-gray-500 py-4"},_={class:"bg-white rounded-lg shadow overflow-hidden"},T={class:"p-4 space-y-3"},z={class:"flex items-center justify-between"},F={class:"flex items-center space-x-3"},G=["src","alt"],L={class:"font-medium"},q={class:"text-sm text-gray-600"},H={class:"flex items-center space-x-2"},M=["onClick"],D=["onClick"],O={key:0,class:"text-center text-gray-500 py-4"},J={class:"bg-white rounded-lg shadow overflow-hidden"},K={class:"px-6 py-4 border-b bg-purple-50"},Q={class:"flex justify-between items-center"},R={class:"p-4"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},X=["src","alt"],Y={class:"font-medium text-sm"},Z={class:"text-xs text-gray-600 mb-2"},$={class:"flex justify-between items-center"},ee={class:"flex space-x-1"},le=["onClick"],te=["onClick"],ae={key:0,class:"text-center text-gray-500 py-8"},se={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},re={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},oe={class:"text-lg font-semibold mb-4"},ie={class:"flex items-center"},ne={class:"flex justify-end space-x-3 pt-4"},de=["disabled"],ce=e({__name:"AdminBanners",setup(e){const{showNotification:ce}=m(),ue=l([]),ve=l(!1),be=l(!1),xe=l(!1),pe=l(null),ge=l({title:"",image:"",link:"",position:"hero",active:!0,order:1}),me=t(()=>ue.value.filter(e=>"hero"===e.position)),ye=t(()=>ue.value.filter(e=>"sidebar"===e.position)),fe=t(()=>ue.value.filter(e=>"carousel"===e.position)),he=async()=>{be.value=!0;try{if(pe.value){const e=ue.value.findIndex(e=>e.id===pe.value.id);-1!==e&&(ue.value[e]={...pe.value,...ge.value}),ce("Banner atualizado com sucesso!","success")}else{const e={id:Date.now(),...ge.value};ue.value.push(e),ce("Banner criado com sucesso!","success")}xe.value=!1,ge.value={title:"",image:"",link:"",position:"hero",active:!0,order:ue.value.length+1}}catch(e){console.error("Erro ao salvar banner:",e),ce("Erro ao salvar banner","error")}finally{be.value=!1}},ke=e=>{pe.value=e,ge.value={...e},xe.value=!0},we=async e=>{if(confirm("Tem certeza que deseja excluir este banner?"))try{ue.value=ue.value.filter(l=>l.id!==e),ce("Banner excluído com sucesso!","success")}catch(l){console.error("Erro ao excluir banner:",l),ce("Erro ao excluir banner","error")}};return a(()=>{(async()=>{ve.value=!0;try{ue.value=[{id:1,title:"Chinelos em Promoção",image:"https://via.placeholder.com/800x400?text=Promoção+Especial",link:"/produtos",position:"hero",active:!0,order:1},{id:2,title:"Frete Grátis",image:"https://via.placeholder.com/300x200?text=Frete+Grátis",link:"/carrinho",position:"sidebar",active:!0,order:1},{id:3,title:"Novos Modelos",image:"https://via.placeholder.com/400x300?text=Novos+Modelos",link:"/produtos",position:"carousel",active:!0,order:1}]}catch(e){console.error("Erro ao carregar banners:",e),ce("Erro ao carregar banners","error")}finally{ve.value=!1}})()}),(e,l)=>(r(),s("div",h,[o("div",k,[l[9]||(l[9]=o("h1",{class:"text-2xl font-bold text-gray-900"}," Gerenciar Banners & Promoções ",-1)),o("button",{onClick:l[0]||(l[0]=e=>{xe.value=!0,pe.value=null,ge.value={title:"",image:"",link:"",position:"hero",active:!0,order:ue.value.length+1}}),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"}," + Novo Banner ")]),o("div",w,[o("div",C,[l[10]||(l[10]=o("div",{class:"px-6 py-4 border-b bg-blue-50"},[o("h2",{class:"text-lg font-semibold text-gray-900"}," Hero (Topo da Página) ")],-1)),o("div",j,[(r(!0),s(n,null,d(me.value,e=>(r(),s("div",{key:e.id,class:"border rounded p-3"},[o("div",E,[o("div",B,[o("img",{src:e.image,alt:e.title,class:"w-12 h-12 object-cover rounded"},null,8,N),o("div",null,[o("h4",I,c(e.title),1),o("p",V,c(e.link),1)])]),o("div",U,[o("span",{class:y(["px-2 py-1 rounded text-xs",e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},c(e.active?"Ativo":"Inativo"),3),o("button",{onClick:l=>ke(e),class:"text-blue-600 hover:text-blue-800 text-sm"}," Editar ",8,P),o("button",{onClick:l=>we(e.id),class:"text-red-600 hover:text-red-800 text-sm"}," Excluir ",8,S)])])]))),128)),0===me.value.length?(r(),s("div",A," Nenhum banner hero cadastrado ")):i("",!0)])]),o("div",_,[l[11]||(l[11]=o("div",{class:"px-6 py-4 border-b bg-green-50"},[o("h2",{class:"text-lg font-semibold text-gray-900"}," Sidebar (Lateral) ")],-1)),o("div",T,[(r(!0),s(n,null,d(ye.value,e=>(r(),s("div",{key:e.id,class:"border rounded p-3"},[o("div",z,[o("div",F,[o("img",{src:e.image,alt:e.title,class:"w-12 h-12 object-cover rounded"},null,8,G),o("div",null,[o("h4",L,c(e.title),1),o("p",q,c(e.link),1)])]),o("div",H,[o("span",{class:y(["px-2 py-1 rounded text-xs",e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},c(e.active?"Ativo":"Inativo"),3),o("button",{onClick:l=>ke(e),class:"text-blue-600 hover:text-blue-800 text-sm"}," Editar ",8,M),o("button",{onClick:l=>we(e.id),class:"text-red-600 hover:text-red-800 text-sm"}," Excluir ",8,D)])])]))),128)),0===ye.value.length?(r(),s("div",O," Nenhum banner lateral cadastrado ")):i("",!0)])])]),o("div",J,[o("div",K,[o("div",Q,[l[12]||(l[12]=o("h2",{class:"text-lg font-semibold text-gray-900"}," Carrosséis ",-1)),o("button",{onClick:l[1]||(l[1]=e=>{xe.value=!0,pe.value=null,ge.value={title:"",image:"",link:"",position:"carousel",active:!0,order:fe.value.length+1}}),class:"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700"}," + Novo Slide ")])]),o("div",R,[o("div",W,[(r(!0),s(n,null,d(fe.value,e=>(r(),s("div",{key:e.id,class:"border rounded p-3"},[o("img",{src:e.image,alt:e.title,class:"w-full h-24 object-cover rounded mb-2"},null,8,X),o("h4",Y,c(e.title),1),o("p",Z,c(e.link),1),o("div",$,[o("span",{class:y(["px-2 py-1 rounded text-xs",e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},c(e.active?"Ativo":"Inativo"),3),o("div",ee,[o("button",{onClick:l=>ke(e),class:"text-blue-600 hover:text-blue-800 text-xs"}," Editar ",8,le),o("button",{onClick:l=>we(e.id),class:"text-red-600 hover:text-red-800 text-xs"}," Excluir ",8,te)])])]))),128))]),0===fe.value.length?(r(),s("div",ae," Nenhum slide de carrossel cadastrado ")):i("",!0)])]),xe.value?(r(),s("div",se,[o("div",re,[o("h3",oe,c(pe.value?"Editar Banner":"Novo Banner"),1),o("form",{onSubmit:u(he,["prevent"]),class:"space-y-4"},[o("div",null,[l[13]||(l[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Título",-1)),v(o("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>ge.value.title=e),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[b,ge.value.title]])]),o("div",null,[x(f,{modelValue:ge.value.image,"onUpdate:modelValue":l[3]||(l[3]=e=>ge.value.image=e),label:"Imagem do Banner","preview-alt":"Preview do banner"},null,8,["modelValue"])]),o("div",null,[l[14]||(l[14]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Link (opcional)",-1)),v(o("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>ge.value.link=e),type:"url",placeholder:"https://exemplo.com/pagina",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[b,ge.value.link]])]),o("div",null,[l[16]||(l[16]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Posição",-1)),v(o("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>ge.value.position=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...l[15]||(l[15]=[o("option",{value:"hero"},"Hero (Topo)",-1),o("option",{value:"sidebar"},"Sidebar (Lateral)",-1),o("option",{value:"carousel"},"Carrossel",-1)])],512),[[p,ge.value.position]])]),o("div",ie,[v(o("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>ge.value.active=e),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[g,ge.value.active]]),l[17]||(l[17]=o("label",{class:"ml-2 block text-sm text-gray-900"},"Ativo",-1))]),o("div",null,[l[18]||(l[18]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ordem",-1)),v(o("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>ge.value.order=e),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[b,ge.value.order,void 0,{number:!0}]])]),o("div",ne,[o("button",{type:"button",onClick:l[8]||(l[8]=e=>xe.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancelar "),o("button",{type:"submit",disabled:be.value,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},c(be.value?"Salvando...":"Salvar"),9,de)])],32)])])):i("",!0)]))}},[["__scopeId","data-v-b1f86736"]]);export{ce as default};
