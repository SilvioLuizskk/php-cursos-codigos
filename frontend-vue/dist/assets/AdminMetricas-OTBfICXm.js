import{_ as e,j as t,p as a,c as s,o,a as r,u as l,x as d,t as i,l as n,F as c,g,G as x,z as m,n as p}from"./index-klLf_Ke9.js";const u={class:"space-y-6"},v={class:"flex justify-between items-center"},h={class:"flex items-center space-x-4"},w={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},b={class:"bg-white rounded-lg shadow p-6"},y={class:"flex items-center"},f={class:"ml-4"},k={class:"text-2xl font-bold text-gray-900"},C={class:"bg-white rounded-lg shadow p-6"},S={class:"flex items-center"},M={class:"ml-4"},P={class:"text-2xl font-bold text-gray-900"},D={class:"bg-white rounded-lg shadow p-6"},R={class:"flex items-center"},E={class:"ml-4"},V={class:"text-2xl font-bold text-gray-900"},j={class:"bg-white rounded-lg shadow p-6"},T={class:"flex items-center"},A={class:"ml-4"},O={class:"text-2xl font-bold text-gray-900"},z={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},B={class:"bg-white rounded-lg shadow p-6"},I={class:"space-y-3"},_={class:"flex items-center space-x-3"},F=["src","alt"],$={class:"font-medium text-gray-900"},L={class:"text-sm text-gray-500"},H={class:"text-sm font-medium text-gray-900"},G={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},U={class:"bg-white rounded-lg shadow p-6"},Y={class:"text-center"},N={class:"text-3xl font-bold text-red-600"},q={class:"mt-4"},J={class:"w-full bg-gray-200 rounded-full h-2"},K={class:"bg-white rounded-lg shadow p-6"},Q={class:"text-center"},W={class:"text-3xl font-bold text-blue-600"},X={class:"bg-white rounded-lg shadow p-6"},Z={class:"text-center"},ee={class:"text-3xl font-bold text-yellow-600"},te={class:"bg-white rounded-lg shadow overflow-hidden"},ae={class:"overflow-x-auto"},se={class:"min-w-full divide-y divide-gray-200"},oe={class:"bg-white divide-y divide-gray-200"},re={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ce=e({__name:"AdminMetricas",setup(e){const{showNotification:ce}=m(),ge=t("month"),xe=t(!1),me=t({totalSales:15420.5,totalOrders:127,totalVisitors:2847,conversionRate:4.5,cartAbandonment:68,avgSessionTime:3.2,bounceRate:42,topProducts:[{id:1,name:"Chinelo Praia Azul",image:"https://via.placeholder.com/40x40?text=P1",sales:45,revenue:2250},{id:2,name:"Chinelo Casual Preto",image:"https://via.placeholder.com/40x40?text=P2",sales:38,revenue:1900},{id:3,name:"Chinelo Esportivo Branco",image:"https://via.placeholder.com/40x40?text=P3",sales:32,revenue:2240},{id:4,name:"Chinelo Infantil Colorido",image:"https://via.placeholder.com/40x40?text=P4",sales:28,revenue:1120},{id:5,name:"Chinelo Slide Conforto",image:"https://via.placeholder.com/40x40?text=P5",sales:25,revenue:1500}],recentOrders:[{id:"00123",customer:"Jo√£o Silva",total:89.9,status:"Entregue",date:"2024-01-15"},{id:"00122",customer:"Maria Santos",total:145.5,status:"Em tr√¢nsito",date:"2024-01-14"},{id:"00121",customer:"Pedro Oliveira",total:67.8,status:"Processando",date:"2024-01-14"},{id:"00120",customer:"Ana Costa",total:234,status:"Entregue",date:"2024-01-13"},{id:"00119",customer:"Carlos Lima",total:98.7,status:"Cancelado",date:"2024-01-13"}]}),pe=async()=>{xe.value=!0;try{const e=new Date;let t,a;switch(ge.value){case"today":t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=e;break;case"week":t=new Date(e.getTime()-6048e5),a=e;break;case"month":t=new Date(e.getFullYear(),e.getMonth(),1),a=e;break;case"year":t=new Date(e.getFullYear(),0,1),a=e;break;default:t=new Date(e.getTime()-2592e6),a=e}const s={start_date:t.toISOString().split("T")[0],end_date:a.toISOString().split("T")[0]},o=await adminService.getMetrics(s);me.value=o.data,console.log(`M√©tricas carregadas para o per√≠odo: ${ge.value}`)}catch(e){console.error("Erro ao carregar m√©tricas:",e),ce("Erro ao carregar m√©tricas","error")}finally{xe.value=!1}},ue=e=>new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),ve=async()=>{try{const e={start_date:new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:(new Date).toISOString().split("T")[0],type:"general"},t=await adminService.exportReport(e),a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",`relatorio-metricas-${ge.value}-${(new Date).toISOString().split("T")[0]}.csv`),document.body.appendChild(s),s.click(),s.remove(),ce("Relat√≥rio exportado com sucesso!","success")}catch(e){console.error("Erro ao exportar relat√≥rio:",e),ce("Erro ao exportar relat√≥rio","error")}};return a(()=>{pe()}),(e,t)=>(o(),s("div",u,[r("div",v,[t[2]||(t[2]=r("h1",{class:"text-2xl font-bold text-gray-900"}," Dashboard de M√©tricas ",-1)),r("div",h,[l(r("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>ge.value=e),onChange:pe,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...t[1]||(t[1]=[r("option",{value:"today"},"Hoje",-1),r("option",{value:"week"},"Esta Semana",-1),r("option",{value:"month"},"Este M√™s",-1),r("option",{value:"year"},"Este Ano",-1)])],544),[[d,ge.value]]),r("button",{onClick:pe,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"}," Atualizar "),r("button",{onClick:ve,class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition ml-2"}," üìä Exportar Relat√≥rio ")])]),r("div",w,[r("div",b,[r("div",y,[t[5]||(t[5]=r("div",{class:"p-2 bg-blue-100 rounded-lg"},[r("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),r("div",f,[t[3]||(t[3]=r("p",{class:"text-sm font-medium text-gray-600"}," Vendas Totais ",-1)),r("p",k," R$ "+i(ue(me.value.totalSales)),1),t[4]||(t[4]=r("p",{class:"text-sm text-green-600"}," +12% vs per√≠odo anterior ",-1))])])]),r("div",C,[r("div",S,[t[8]||(t[8]=r("div",{class:"p-2 bg-green-100 rounded-lg"},[r("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1)),r("div",M,[t[6]||(t[6]=r("p",{class:"text-sm font-medium text-gray-600"},"Pedidos",-1)),r("p",P,i(me.value.totalOrders),1),t[7]||(t[7]=r("p",{class:"text-sm text-green-600"}," +8% vs per√≠odo anterior ",-1))])])]),r("div",D,[r("div",R,[t[11]||(t[11]=r("div",{class:"p-2 bg-yellow-100 rounded-lg"},[r("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),r("div",E,[t[9]||(t[9]=r("p",{class:"text-sm font-medium text-gray-600"}," Visitantes ",-1)),r("p",V,i(me.value.totalVisitors),1),t[10]||(t[10]=r("p",{class:"text-sm text-red-600"}," -3% vs per√≠odo anterior ",-1))])])]),r("div",j,[r("div",T,[t[14]||(t[14]=r("div",{class:"p-2 bg-purple-100 rounded-lg"},[r("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),r("div",A,[t[12]||(t[12]=r("p",{class:"text-sm font-medium text-gray-600"}," Convers√£o ",-1)),r("p",O,i(me.value.conversionRate)+"% ",1),t[13]||(t[13]=r("p",{class:"text-sm text-green-600"}," +5% vs per√≠odo anterior ",-1))])])])]),r("div",z,[t[16]||(t[16]=n('<div class="bg-white rounded-lg shadow p-6" data-v-df5ec38d><h3 class="text-lg font-semibold text-gray-900 mb-4" data-v-df5ec38d> Vendas por Per√≠odo </h3><div class="h-64 flex items-center justify-center bg-gray-50 rounded" data-v-df5ec38d><div class="text-center" data-v-df5ec38d><svg class="w-12 h-12 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-df5ec38d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-df5ec38d></path></svg><p class="text-gray-500" data-v-df5ec38d> Gr√°fico de vendas (simulado) </p><p class="text-sm text-gray-400 mt-1" data-v-df5ec38d> Integra√ß√£o com Google Analytics ou similar </p></div></div></div>',1)),r("div",B,[t[15]||(t[15]=r("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Produtos Mais Vendidos ",-1)),r("div",I,[(o(!0),s(c,null,g(me.value.topProducts,e=>(o(),s("div",{key:e.id,class:"flex items-center justify-between"},[r("div",_,[r("img",{src:e.image,alt:e.name,class:"w-10 h-10 object-cover rounded"},null,8,F),r("div",null,[r("p",$,i(e.name),1),r("p",L,i(e.sales)+" vendas ",1)])]),r("span",H,"R$ "+i(ue(e.revenue)),1)]))),128))])])]),r("div",G,[r("div",U,[t[18]||(t[18]=r("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Abandono de Carrinho ",-1)),r("div",Y,[r("div",N,i(me.value.cartAbandonment)+"% ",1),t[17]||(t[17]=r("p",{class:"text-sm text-gray-600 mt-1"},"Taxa de abandono",-1)),r("div",q,[r("div",J,[r("div",{class:"bg-red-600 h-2 rounded-full",style:x({width:me.value.cartAbandonment+"%"})},null,4)])])])]),r("div",K,[t[21]||(t[21]=r("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Tempo M√©dio na P√°gina ",-1)),r("div",Q,[r("div",W,i(me.value.avgSessionTime),1),t[19]||(t[19]=r("p",{class:"text-sm text-gray-600 mt-1"},"Minutos por sess√£o",-1)),t[20]||(t[20]=r("p",{class:"text-sm text-green-600 mt-2"}," +15% vs per√≠odo anterior ",-1))])]),r("div",X,[t[24]||(t[24]=r("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Taxa de Rejei√ß√£o ",-1)),r("div",Z,[r("div",ee,i(me.value.bounceRate)+"% ",1),t[22]||(t[22]=r("p",{class:"text-sm text-gray-600 mt-1"}," Visitantes que saem imediatamente ",-1)),t[23]||(t[23]=r("p",{class:"text-sm text-red-600 mt-2"}," -8% vs per√≠odo anterior ",-1))])])]),r("div",te,[t[26]||(t[26]=r("div",{class:"px-6 py-4 border-b"},[r("h3",{class:"text-lg font-semibold text-gray-900"}," Pedidos Recentes ")],-1)),r("div",ae,[r("table",se,[t[25]||(t[25]=r("thead",{class:"bg-gray-50"},[r("tr",null,[r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Pedido "),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cliente "),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Valor "),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Data ")])],-1)),r("tbody",oe,[(o(!0),s(c,null,g(me.value.recentOrders,e=>{return o(),s("tr",{key:e.id},[r("td",re," #"+i(e.id),1),r("td",le,i(e.customer),1),r("td",de," R$ "+i(ue(e.total)),1),r("td",ie,[r("span",{class:p(["px-2 py-1 rounded text-xs",(a=e.status,{Entregue:"bg-green-100 text-green-800","Em tr√¢nsito":"bg-blue-100 text-blue-800",Processando:"bg-yellow-100 text-yellow-800",Cancelado:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800")])},i(e.status),3)]),r("td",ne,i((t=e.date,new Date(t).toLocaleDateString("pt-BR"))),1)]);var t,a}),128))])])])])]))}},[["__scopeId","data-v-df5ec38d"]]);export{ce as default};
